<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>wangEditor demo</title>

        <!-- csså¤–éƒ¨å¼•å…¥éƒ¨åˆ† -->
        <link rel="stylesheet" href="css/_articleManager.css"/>

    </head>
    <body onload="initBody()">
        <!-- å¤´éƒ¨ -->
        <div class="header">
            <div style="margin-left: 200px; margin-top: 5px; float: left;">
                <img src="css/helloblogicon-dog.png" style="width: 40px;height: 40px;display: flex;border-radius: 50%;align-items: center;justify-content: center;overflow: hidden;float: left;">
                <a href="loadPublicAritcle" style="font-size: 28px;color: blue;">H E L L O B L O G </a>
            </div>
            <div style="overflow:hidden; float: right; margin-right: 250px; margin-top: 5px;">
                <a href="inMyCenter">
                    <img id="header-HP" src="css/user.jpg" style="width: 40px;height: 40px;display: flex;border-radius: 50%;align-items: center;justify-content: center;overflow: hidden;">
                </a>
            </div>
            <div style="margin-right: 30px; margin-top: 17px; font-size: 14px; float: right; font-family: microsoft yahei;">
                <a href="#" style="font-size: 12px;">ğŸ–Š å†™åšå®¢</a>
            </div>
        </div>

        <br/><br/><br/><br/>

        <div class="intermediate">
            <!-- èœå•é¡¹ -->
            <div id="menue">
                <div id="menue-write">
                    <a href="#" style="color: white;" onclick="chooseToJump('menue-write','write-article-page')">æ–° å¢ åš å®¢</a>
                </div>
                <div id="menue-editor">
                    <a href="#" onclick="chooseToJump('menue-editor','editor-article-page')">ç¼– è¾‘ åš å®¢</a>
                </div>
                <div id="menue-remark">
                    <a href="#" onclick="chooseToJump('menue-remark','remark-article-page')">è¯„ è®º ç®¡ ç†</a>
                </div>
                <div id="menue-set">
                    <a href="#" onclick="chooseToJump('menue-set','set-article-page')">åš å®¢ è®¾ ç½®</a>
                </div>
            </div>

            <!-- å®¹å™¨ -->
            <div id="container">
                <!-- å†™åšå®¢-->
                <div id="write-article-page">
                    <div style="height: 70px; ">
                        <input id="write-article-page-title" value="" style="width: 99.9%;height: 40px;margin-top:0px;font-size: 16px;background-color:rgb(239,239,239);border: none;" placeholder="è¾“å…¥æ–‡ç« æ ‡é¢˜" />
                    </div>
                    <div id="editor">
                    </div>
                    <div style= " margin: 5px;margin-top: 20px;font-size: 14px;font-family: 'Microsoft YaHei">
                        <span style="'">æ–‡ç« ç±»å‹:&nbsp</span>
                        <select id="write-article-page-type" style="width: 80px; height: 30px;">
                            <option value ="Java" selected="selected">Java</option>
                            <option value ="C">C</option>
                            <option value ="JS">JS</option>
                            <option value ="Python">Python</option>
                            <option value ="C#">C#</option>
                            <option value ="Linux">Linux</option>
                            <option value ="Redis">Redis</option>
                            <option value ="å…¶ä»–">å…¶ä»–</option>
                        </select>
                        <br/><br/>
                        <span style="font-size: 11px;color : gray;margin-left: 60px;"> è¯·æ ¹æ®ä½ çš„æ–‡ç« å†…å®¹é€‰æ‹©åˆé€‚çš„ç±»å‹</span>
                        <br/><br/><br/>
                        <span>å‘å¸ƒå½¢å¼:&nbsp</span>
                        public : <input type="radio" name="method" checked="checked" value="public"/>&nbsp;&nbsp;
                        private : <input type="radio" name="method" value="private"/>&nbsp;&nbsp;
                        fens : <input type="radio" name="method" value="fens" />&nbsp;&nbsp;
                        <br/><br/>
                        <span style="font-size: 11px;color : gray;margin-left: 60px;">å…¬å¼€/ç§å¯†/ç²‰ä¸å¯è§</span>
                        <br/><br/><br/><br/>
                        <input type="button" name="" id="" value="å‘å¸ƒåšå®¢" style="background-color: rgb(239,239,239); border: red solid 1px;color: red;width: 100px;height: 40px;border-radius:10px;margin-left: 60px;"
                               onclick="sendArticle()"/>
                        <br/><br/>
                    </div>
                </div>

                <!-- ç¼–è¾‘åšå®¢ -->
                <div id="editor-article-page">
                    <div style=" height: 30px;width: 98%;">
                        <!-- ä¸‰ä¸ªèœå•é¡¹ å…¨éƒ¨/å…¬å¼€/éšç§ -->
                        <div id="editor-article-page-all-item"><a href="#" onclick="chooseToJumpBlogEditor('editor-article-page-all-item','editor-article-page-all')">å…¨éƒ¨(<span id="allNum">0</span>ç¯‡)</a></div>
                        <div id="editor-article-page-pub-item" style="margin-left: 1px;"><a href="#" style="color:gray;" onclick="chooseToJumpBlogEditor('editor-article-page-pub-item','editor-article-page-pub')">å…¬å¼€(<span id="pubNum">0</span>ç¯‡)</a></div>
                        <div id="editor-article-page-pri-item" style="margin-left: 1px;"><a href="#" style="color:gray;" onclick="chooseToJumpBlogEditor('editor-article-page-pri-item','editor-article-page-pri')">ç§å¯†(<span id="priNum">0</span>ç¯‡)</a></div>
                        <br/>
                        <hr style="width: 98%;float: left;text-align: center;color: gray;"/>

                        <!-- ä¸‰ä¸ªå®¹å™¨ -->
                        <!-- å…¨éƒ¨æ–‡ç«  -->
                        <div id="editor-article-page-all">

                        </div>
                        <!-- å…¬å¼€æ–‡ç«  -->
                        <div id="editor-article-page-pub">

                        </div>
                        <!-- éšç§æ–‡ç«  -->
                        <div id="editor-article-page-pri">

                        </div>

                    </div>
                </div>

                <!-- è¯„è®ºç®¡ç† -->
                <div id="remark-article-page">
                    <span id="remark-article-page-historyremark" style="color: gray; margin-left: 20px;">å†å²è¯„è®º</span>
                    <br/>
                    <hr style="width: 98%;float: left;color: gray;"/>

                    <div style="width: 100%;float: left;margin-top: 5px;">
                        <div style="height: 45%;margin-top: 5px;">
                            <a href="#" style="margin-left: 20px;font-size: 18px;text-decoration: none;color: blue">æ–‡ç« æ ‡é¢˜</a>
                            <span style="font-size: 12px;">[ä½œè€…:<span>AiTboy</span>]</span>
                            <br/><br/>
                            <span style="font-size: 12px;margin-left: 20px;">æˆ‘çš„è¯„è®º:</span>
                            <span style="font-size: 12px;">æ„Ÿè°¢åšä¸»çš„æ–‡ç« ï¼Œé—®é¢˜å·²è§£å†³ã€‚</span>
                        </div>
                        <div style="height: 30%;font-size: 12px;color: gray;margin-top: 10px;">
                            <span style="margin-left: 10px;"/>
                            è¯„è®ºæ—¶é—´:<span style="">2011-11-11 11:11</span>
                            <span style="margin-left: 10px;"/>
                            å›å¤æ•°:<span style="">11</span>
                            | ç‚¹èµæ•°:<span style="">111</span>
                            <span style="float:right;margin-right: 30px;"/>
                            <span style="float: right;color:red">åˆ é™¤</span>
                            <span style="float: right;color: blue;">æŸ¥çœ‹|</span>
                        </div>
                        <hr/>
                    </div>

                </div>

                <!-- åšå®¢è®¾ç½® -->
                <div id="set-article-page">å¾…å¼€å¼€å‘åˆ†æ ç®¡ç†......</div>
            </div>
        </div>

        <!-- ç•™ç™½ -->
        <div class="flowofwhite"></div>
    </body>


    <!-- js å¤–éƒ¨å¼•å…¥éƒ¨åˆ† -->
    <script type="text/javascript" src="js/_loadImageTools.js" ></script>
    <script type="text/javascript" src="js/_commonPageTools.js"></script>
    <script type="text/javascript" src="js/_ajaxTools.js"      ></script>
    <script type="text/javascript" src="js/_codecKitTools.js"  ></script>

    <!-- å¼•å…¥wangEditoræ–‡æœ¬ç¼–è¾‘å™¨ æ³¨é‡Šéƒ¨åˆ†ä¸ºæœ¬åœ°æ–¹å¼è·å¾— -->
    <script type="text/javascript" src="//unpkg.com/wangeditor/release/wangEditor.min.js"></script>             <!-- <script type="text/javascript" src="release/wangEditor.min.js"></script> -->

    <!-- å†™åšå®¢ç›¸å…³ js -->
    <script type="text/javascript">
        var E = window.wangEditor
        var editor = new E('#editor');
        // editor.txt.html('');                                     //è·å–html
        // editor.txt.clear();                                      //æ¸…ç©ºç¼–è¾‘å™¨å†…å®¹
        // alert(editor.txt.text());                                //è·å–çº¯æ–‡æœ¬
        // editor.customConfig.uploadImgShowBase64 = true           // ä½¿ç”¨ base64 ä¿å­˜å›¾ç‰‡
        // editor.customConfig.uploadImgServer = '/uploadImage'ï¼›   //ä¸Šä¼ å›¾ç‰‡å²›æœåŠ¡ç«¯
        // editor.customConfig.uploadImgMaxSize = 10 * 1024 * 1024; //è®¾ç½®ä¸Šä¼ å›¾ç‰‡å¤§å°10M
        // editor.customConfig.uploadImgMaxLength = 10;             //ä¸Šä¼ å›¾ç‰‡æœ€å¤§æ•°é‡
        // editor.customConfig.uploadFileName = 'file';
        // editor.customConfig.showLinkImg= false;

        editor.customConfig.uploadImgShowBase64 = true;
        editor.customConfig.uploadImgMaxSize = 500 * 1024 * 1024;
        editor.customConfig.uploadImgMaxLength = 100;
        editor.create();

        //è·å–editorä¸­æ‰€å†™åšå®¢çš„æ‰€æœ‰å†…å®¹å†™å…¥articleæ•°ç»„ä¸­(å¹¶å¯¹å†…å®¹è¿›è¡Œå¿…è¦çš„åˆ¤æ–­)
        function getMyArticle(){
            var article = {};

            var title   = document.getElementById("write-article-page-title").value;
            //éªŒè¯æ ‡é¢˜æ˜¯å¦ä¸ºç©º
            if((title+' ').trim() == ""){
                alert("æ–‡ç« æ ‡é¢˜ä¸èƒ½ä¸ºç©º");
                return null;
            }
            article['title'] = title;

            var content = editor.txt.html();
            if((content + ' ').trim() == ""||editor.txt.text() == ''){
                alert("æ–‡ç« å†…å®¹ä¸èƒ½ä¸ºç©º");
                return null;
            }

            article['content'] = replacePercent(new Base64().encode(content),0);

            var type    = getSelectValue("write-article-page-type");
            var limits  = getRadioValue("method");

            article['type']   = type;
            article['limits'] = limits;

            return article;
        }

        //æ£€æŸ¥æ–‡ç« åœ¨æˆ‘çš„åšå®¢ä¸­æ˜¯å¦å­˜åœ¨(é‡å)
        function isExitArticle(title){
            var exit = 0;
            ajaxSendMessage("post","isArticleExit","blogid="+blogid+"&title="+title,function(ajax){
                var data = JSON.parse(ajax.responseText);
                if(data.title == title){
                    // alert("è¯¥æ–‡ç« æ ‡é¢˜åœ¨ä½ çš„åšå®¢ä¸­å·²ç»å­˜åœ¨ï¼ï¼ï¼" +
                    //     "\nä½ å¯ä»¥æ›´æ”¹æ–‡ç« æ ‡é¢˜æˆ–åˆ é™¤å·²å­˜åœ¨æ–‡ç«  ");
                    exit = 1;
                }
            },false);

            return exit;
        }

        //å°†æ‰€å†™åšå®¢å‘å¾€æœåŠ¡å™¨
        function sendArticle(){
            var article = getMyArticle();
            if(article == null){
                return;
            }
            if(isExitArticle(article['title']) == 1){
                var res = confirm("è¯¥æ–‡ç« åå·²ç»å­˜åœ¨æ˜¯å¦,ç¡®è®¤å°†è¦†ç›–æ‰ä¹‹å‰çš„æ–‡ç« ï¼ï¼ï¼");
                if(res != true){  //ç¡®è®¤è¦†ç›–æ‰ä¹‹å‰åŒåçš„æ–‡ç« 
                    alert("ä¸Šä¼ å·²ç»æ’¤é”€");
                    return;
                }
            }
            var param = "title="+article['title']+"&content="+article['content'] +
                "&type="+article['type' ]+"&method=" +article['method'];
            ajaxSendMessage("post","uploadArticle","blogid="+blogid+"&"+param,function(ajax){
                var data = JSON.parse(ajax.responseText);
                if(data.successFlag == 1){
                    alert("åšæ–‡ä¸Šä¼ æˆåŠŸ");
                }
            },true);
        }
    </script>

    <!-- é¡µé¢å…¶ä»–ç›¸å…³ js -->
    <script type="text/javascript">
        // ä¸»èœå•é¡¹è·³è½¬
        function chooseToJump(arg,arg_){
            var menue     = document.getElementById("menue");
            var container = document.getElementById("container");

            var menueChilds     = menue.children;
            var containerChilds = container.children;

            var Arg = document.getElementById(arg);
            for(var i = 0 ; i < menueChilds.length ; i++){
                menueChilds[i].style.backgroundColor = "rgb(245,245,245)";
                menueChilds[i].getElementsByTagName("a")[0].style.color = "black";
            }
            Arg.style.backgroundColor = "rgb(51,103,214)";
            Arg.getElementsByTagName("a")[0].style.color = "white";

            var Arg_ = document.getElementById(arg_);
            for(var j = 0 ; j < containerChilds.length ; j++){
                containerChilds[j].style.display = "none";
            }
            Arg_.style.display = "block";

            loadArticleList(arg);//åŠ è½½æ–‡ç« ç®¡ç†ä¸­æ‰€æœ‰çš„æ–‡ç« 
            loadRemarkList(arg); //åŠ è½½è¯„è®ºç®¡ç†ä¸­çš„å…¨éƒ¨è¯„è®º
        }

        // åšå®¢ç¼–è¾‘èœå•é¡¹è·³è½¬
        function chooseToJumpBlogEditor(arg,arg_){
            var allitem = document.getElementById("editor-article-page-all-item");
            var pubitem = document.getElementById("editor-article-page-pub-item");
            var priitem = document.getElementById("editor-article-page-pri-item");

            allitem.getElementsByTagName("a")[0].style.color = "gray";
            pubitem.getElementsByTagName("a")[0].style.color = "gray";
            priitem.getElementsByTagName("a")[0].style.color = "gray";

            var allcon = document.getElementById("editor-article-page-all");
            var pubcon = document.getElementById("editor-article-page-pub");
            var pricon = document.getElementById("editor-article-page-pri");

            allcon.style.display = "none";
            pubcon.style.display = "none";
            pricon.style.display = "none";

            var item = document.getElementById(arg);
            var con = document.getElementById(arg_);
            item.getElementsByTagName("a")[0].style.color = "blue";
            con.style.display = "block";
        }

        //ç¼–è¾‘æ–‡ç« ä¸­èœå•é¡¹(DIVæœ€å¤–å±‚divå®¹å™¨,t/ty/c... ä¸ºæ–‡ç« ç›¸å…³ä¿¡æ¯ å¦‚æ ‡é¢˜/ç±»å‹/å†…å®¹... )
        function articleItem(DIV,t,ty,c,p,r,l,artid,blogid) {
            var Item        = document.createElement("div");

            var title       =document.createElement("div");
            var method      =document.createElement("span");
            var titleA      =document.createElement("a");

            var footer      =document.createElement("div");
            var blank1      =document.createElement("span");
            var publictime  =document.createElement("span");
            var blank2      =document.createElement("span");
            var remarkNum   =document.createElement("span");
            var likeNum     =document.createElement("span");
            var blank3      =document.createElement("span");
            var del         =document.createElement("span");
            var delA        =document.createElement("a");
            var look        =document.createElement("span");
            var lookA       =document.createElement("a");
            var hr          =document.createElement("hr");


            titleA.href = "#"; //ä¿®æ”¹æ–‡ç« æ ‡é¢˜aæ ‡ç­¾
            delA.href   = "#"; //åˆ é™¤æ–‡ç« aæ ‡ç­¾
            lookA.href  = "inPublicArticle?artid="+artid+"&blogid="+blogid; //æŸ¥çœ‹æ–‡ç« aæ ‡ç­¾

            titleA.onclick = function () {  //ç‚¹å…¥è¿›å…¥è¯¥æ–‡ç« ä¸»é¡µ
                chooseToJump('menue-write','write-article-page');
                document.getElementById("write-article-page-title").value = t;

                editor.txt.clear();
                editor.txt.html(''+c);
                var type = document.getElementById("write-article-page-type");
                var option=type.getElementsByTagName("option");
                for(var i = 0 ; i < option.length; i++){
                    if((option[i].innerText + ' ').trim() == (ty + ' ').trim()){
                        option[i].selected = true;
                    }
                }
            }

            delA.onclick = function () {
                if(confirm("æ˜¯å¦ç¡®è®¤åˆ é™¤è¯¥æ–‡ç« !!!")){
                    var param = "blogid="+blogid+"&artid="+artid;
                    ajaxSendMessage("post","removeOneArticle",param,function (ajax) {
                        loadArticleList('menue-editor');
                    },false);
                }
            }

            Item.style.cssText="height: 100px; width: 100%;float: left;margin-top: 5px;";

            title.style.cssText="height: 45%;margin-top: 5px;";
            method.style.cssText="border: #74777b solid 1px;height: 25px;width: 50px;display: block;float: left;margin-left: 20px;text-align: center;color: green;";
            titleA.style.cssText="margin-left: 20px;font-size: 20px;text-decoration: none;";

            footer.style.cssText="height: 30%;font-size: 12px;color: gray;margin-top: 10px;";
            blank1.style.cssText="margin-left: 10px;";
            //publictime.style.cssText="margin-left: 10px;";
            blank2.style.cssText="margin-left: 10px;";
            //remarkNum.style.cssText="height: 100px; width: 100%;float: left;margin-top: 5px;";
            //likeNum.style.cssText="height: 100px; width: 100%;float: left;margin-top: 5px;";
            blank3.style.cssText="float:right;margin-right: 30px;";
            del.style.cssText="float: right";
            delA.style.cssText="text-decoration: none;color: red;font-size: 12px;";
            look.style.cssText="float: right;";
            lookA.style.cssText="text-decoration: none;color: blue;font-size: 12px;";

            method.innerText = "ç§å¯†";
            titleA.innerText = t+"";
            publictime.innerText = "å‘å¸ƒæ—¶é—´" + p;
            remarkNum.innerText = "è¯„è®ºæ•°"+l;
            likeNum.innerText = "ç‚¹èµæ•°"+r;
            delA.innerText = "åˆ é™¤";
            lookA.innerText = "æŸ¥çœ‹|";

            title.appendChild(method);
            title.appendChild(titleA);

            footer.appendChild(blank1);
            footer.appendChild(publictime);
            footer.appendChild(blank2);
            footer.appendChild(remarkNum);
            footer.appendChild(likeNum);
            footer.appendChild(blank3);
            del.appendChild(delA);
            look.appendChild(lookA);
            footer.appendChild(del);
            footer.appendChild(look);

            Item.appendChild(title);
            Item.appendChild(footer);
            Item.appendChild(hr);

            DIV.appendChild(Item);
        }

        //è¯„è®ºç®¡ç†èœå•é¡¹
        function remarkItem(DIV,ARTICLE,REMARK) { //
            var Item        = document.createElement("div");

            var title       =document.createElement("div");
            var titleA      =document.createElement("a");
            var author      =document.createElement("span");
            var myRemark    =document.createElement("span");
            var reCotent    =document.createElement("span");

            var footer      =document.createElement("div");
            var blank1      =document.createElement("span");
            var remarktime  =document.createElement("span");
            var blank2      =document.createElement("span");
            var replyNum    =document.createElement("span");
            var likeNum     =document.createElement("span");
            var blank3      =document.createElement("span");
            var del         =document.createElement("span");
            var delA        =document.createElement("a");
            var look        =document.createElement("span");
            var lookA       =document.createElement("a");

            var hr          =document.createElement("hr");

            titleA.href = "inPublicArticle?artid="+""+ARTICLE['artid']+"&blogid="+""+ARTICLE['blogid'] ; //æŸ¥çœ‹æ–‡ç« aæ ‡ç­¾
            lookA.href  = "inPublicArticle?artid="+""+ARTICLE['artid']+"&blogid="+""+ARTICLE['blogid'] ; //æŸ¥çœ‹æ–‡ç« aæ ‡ç­¾
            delA.href   = "#";                                                                           //åˆ é™¤æ–‡ç« aæ ‡ç­¾


            Item.style.cssText="width: 100%;float: left;margin-top: 5px;";

            title.style.cssText="height: 45%;margin-top: 5px;";
            titleA.style.cssText="margin-left: 20px;font-size: 18px;text-decoration: none;color: blue";
            author.style.cssText="font-size: 12px";
            myRemark.style.cssText="font-size: 12px;margin-left: 20px;";
            reCotent.style.cssText="ont-size: 12px;";

            footer.style.cssText="height: 30%;font-size: 12px;color: gray;margin-top: 10px;";
            blank1.style.cssText="margin-left: 10px;";
            //remarktime.style.cssText="margin-left: 10px;";
            blank2.style.cssText="margin-left: 10px;";
            //replyNum.style.cssText="height: 100px; width: 100%;float: left;margin-top: 5px;";
            //likeNum.style.cssText="height: 100px; width: 100%;float: left;margin-top: 5px;";
            blank3.style.cssText="float:right;margin-right: 30px;";
            del.style.cssText="float: right";
            delA.style.cssText="text-decoration: none;color: red;font-size: 12px;";
            look.style.cssText="float: right;";
            lookA.style.cssText="text-decoration: none;color: blue;font-size: 12px;";


            titleA.innerText = ARTICLE['title']+"";

            var AUTHOR;
            ajaxSendMessage("post","bloggerinfo","remarkblogid="+ARTICLE['blogid']+"&bloggerNameReqFlag=1",function (ajax) {
                var data = JSON.parse(ajax.responseText);
                AUTHOR = data.blogger['username'];
                author.innerText = "[ä½œè€…:" + AUTHOR +"]";
            },true);

            reCotent.innerText = "æˆ‘çš„è¯„è®º:" +REMARK['content'];
            remarktime.innerText = "å‘å¸ƒæ—¶é—´" + REMARK['datetime'];
            replyNum.innerText = "å›å¤æ•°"+1;
            likeNum.innerText = "ç‚¹èµæ•°"+REMARK['praise'];
            delA.innerText = "åˆ é™¤";
            lookA.innerText = "æŸ¥çœ‹|";

            delA.onclick = function () {
                if(confirm("æ˜¯å¦ç¡®è®¤åˆ é™¤è¯¥è¯„è®º!!!")){
                    ajaxSendMessage("post","removeOneRemark","remarkid="+REMARK['remarkid'],function (ajax) { // /removeOneArticleå¾…å†™
                        loadRemarkList('menue-remark');
                    },false);
                }
            }

            title.appendChild(titleA);
            title.appendChild(author);
            title.appendChild(document.createElement("br"));
            title.appendChild(document.createElement("br"));
            title.appendChild(myRemark);
            title.appendChild(reCotent);

            footer.appendChild(blank1);
            footer.appendChild(remarktime);
            footer.appendChild(blank2);
            footer.appendChild(replyNum);
            footer.appendChild(likeNum);
            footer.appendChild(blank3);
            del.appendChild(delA);
            look.appendChild(lookA);
            footer.appendChild(del);
            footer.appendChild(look);

            Item.appendChild(title);
            Item.appendChild(footer);
            Item.appendChild(hr);

            DIV.appendChild(Item);
        }

        //ä»æœåŠ¡ç«¯åŠ è½½æ–‡ç« ä¿¡æ¯ï¼Œæ˜¾ç¤ºåœ¨ç¼–è¾‘åšå®¢çš„åˆ—è¡¨ä¸­
        function loadArticleList(arg) {
            if(arg === 'menue-editor'){
                ajaxSendMessage("post","bloggerArticles","blogid="+blogid,function (ajax) {
                    var data = JSON.parse(ajax.responseText);
                    // alert(ajax.responseText);
                    var DIV = document.getElementById("editor-article-page-all");  //å…¨éƒ¨æ–‡ç« 
                    var DIV1= document.getElementById("editor-article-page-pub");  //å…¬å¼€æ–‡ç« 
                    DIV.innerHTML = "";
                    DIV1.innerHTML = "";
                    var BA = data.bloggerArticlesList; //
                    var AS = data.B_R; //æ–‡ç« idä¸ä¹‹å¯¹åº”çš„è¯„è®º

                    document.getElementById("allNum").innerText = BA.length;
                    document.getElementById("pubNum").innerText = BA.length;

                    for (var i = 0; i < BA.length; i++) {
                        var title = BA[i].title;
                        var type  = BA[i].type;
                        var content=BA[i].content;
                        var publictime = new Date(BA[i].publictime.time);
                        var reply = AS['artid'+BA[i].artid];
                        var like = BA[i].like;
                        var artid= BA[i].artid;
                        var blogid=BA[i].blogid;
                        articleItem(DIV,title,type,content,publictime,reply,like,artid,blogid);
                        articleItem(DIV1,title,type,content,publictime,reply,like,artid,blogid);
                    }

                },true);
            }
        }

        //ä»æœåŠ¡ç«¯è·å–è¯„è®ºä¿¡æ¯ï¼Œç°åœ¨åœ¨ç®¡ç†è¯„è®ºåˆ—è¡¨ä¸­
        function loadRemarkList(arg) {
            if(arg === 'menue-remark'){
                var DIV = document.getElementById("remark-article-page");
                var header = document.getElementById("remark-article-page-historyremark");
                var hr     = document.createElement("hr");
                hr.style.cssText = "width: 98%;float: left;color: gray";
                DIV.innerHTML = ""; //æ¸…æ¥šå†å²è¯„è®ºåˆ—è¡¨ç¨åé‡æ–°ä»æœåŠ¡ç«¯è·å–
                DIV.appendChild(header);
                DIV.appendChild(hr);

                ajaxSendMessage("post","bloggerAllRemarks","blogid="+blogid,function (ajax) {
                    var data = JSON.parse(ajax.responseText);
                    var ARTICLES = data.map.articles;
                    var REMARKS  = data.map.bloggerAllremarks;

                    for(var i = 0 ; i < REMARKS.length ; i++){
                        var j = 0;
                        for(; j < ARTICLES.length ; j++){
                            if(ARTICLES[j].artid == REMARKS[i].artid)
                                break;
                        }
                        remarkItem(DIV,ARTICLES[j],REMARKS[i]);
                    }

                },false);
            }

        }
    </script>

    <!-- é¡µé¢åˆå§‹åŒ–ç›¸å…³ js -->
    <script type="text/javascript">
        var blogid;      //è¿›å…¥è¯¥é¡µé¢æ—¶ä»cookiesä¸­è·å¾—æ•°æ®blogidä¸ºé¡µé¢åšä¸»
        var blogUsername;//å
        var blogPassword;//å¯†ç 

        //åŠ è½½cookieä¿¡æ¯
        function loadCookeiesInfo() {
            var map = _loadCookeiesInfo();

            blogid       = map['blogid'];
            blogUsername = map['username'];
            blogPassword = map['password'];

            //cookieä¸­æ²¡æœ‰å­˜åœ¨ä¿¡æ¯è¯´æ˜ç”¨æˆ·æ²¡æœ‰ç™»å½•<å°†ä¼šè·³åˆ°ç™»å½•ç•Œé¢>
            if(typeof(blogid) == "undefined"){
                var a = document.createElement("a");  //è‹¥ä¸ºæ¸¸å®¢ç™»å½•ç›´æ¥è¿›å…¥ç™»å½•ç•Œé¢
                a.href = "inlogin";
                document.body.appendChild(a);
                a.click();
            }else {
                loadHP(blogid,"header-HP"); //åŠ è½½å¤´åƒå›¾ç‰‡
                loadBackgorund(blogid);     //åŠ è½½èƒŒæ™¯å›¾ç‰‡
            }
        }

        //é¡µé¢åˆå§‹åŒ–æ—¶è°ƒç”¨è¯¥å‡½æ•°
        function initBody() {
            loadCookeiesInfo();         //åŠ è½½cookieä¿¡æ¯
        }
    </script>
</html>